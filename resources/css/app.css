@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* ========================================
   Layout Components
   ======================================== */

/* Layout Container */
.layout-container {
    @apply min-h-screen bg-[#FAFAFA];
}

/* Header */
.header {
    @apply fixed top-0 left-0 right-0 z-50;
    @apply h-16 bg-white border-b border-[#E0E0E0];
    @apply flex items-center justify-between px-6;
    @apply shadow-[0_1px_2px_rgba(0,0,0,0.05)];
}

.header-title {
    @apply text-2xl font-bold text-[#1F1F1F];
}

.header-actions {
    @apply flex items-center gap-4;
}

/* Sidebar */
.sidebar {
    @apply fixed left-0 top-16 z-40;
    @apply h-[calc(100vh-4rem)] bg-white border-r border-[#E0E0E0];
    @apply shadow-[0_1px_2px_rgba(0,0,0,0.05)];
    @apply transition-all duration-300 ease-in-out;
}

.sidebar-nav {
    @apply flex flex-col gap-2 p-3;
}

.sidebar-item {
    @apply flex items-center gap-4 px-2 py-3 rounded-lg;
    @apply transition-all duration-150 ease-in-out;
}

.sidebar-item-default {
    @apply text-[#6D6D6D];
    @apply hover:bg-[#F5F5F5] active:bg-[#EFEFEF];
}

.sidebar-item-active {
    @apply bg-[#2563EB] text-white;
}

.sidebar-item-icon {
    @apply flex-shrink-0;
}

.sidebar-item-label {
    @apply text-sm font-medium whitespace-nowrap;
    @apply transition-all duration-300 ease-in-out;
    @apply overflow-hidden;
}

.sidebar-item-label-collapsed {
    @apply opacity-0 max-w-0;
}

.sidebar-item-label-expanded {
    @apply opacity-100 max-w-xs;
}

/* Main Content */
.main-content {
    @apply flex-1 p-6;
    @apply mt-16;
    @apply transition-all duration-300 ease-in-out;
}

/* ========================================
   Button Components
   ======================================== */

/* Icon Button */
.btn-icon {
    @apply flex items-center justify-center w-10 h-10;
    @apply text-[#6D6D6D];
    @apply transition-all duration-150 ease-in-out;
    @apply hover:text-[#1E4FCC] hover:scale-110;
    @apply active:text-[#1B49B2];
}

/* Primary Button */
.btn-primary {
    @apply h-10 px-3 rounded-lg;
    @apply bg-[#2563EB] text-white;
    @apply text-sm font-medium;
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-[#1E4FCC];
    @apply active:bg-[#1B49B2];
    @apply disabled:opacity-50 disabled:bg-[#557ed688] disabled:cursor-not-allowed;
}

/* Secondary Button */
.btn-secondary {
    @apply h-10 px-3 rounded-lg;
    @apply bg-white text-[#6D6D6D] border border-[#E0E0E0];
    @apply text-sm font-medium;
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-[#F5F5F5];
    @apply active:bg-[#EFEFEF];
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Danger Button */
.btn-danger {
    @apply h-10 px-3 rounded-lg;
    @apply bg-red-600 text-white;
    @apply text-sm font-medium;
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-red-700;
    @apply active:bg-red-800;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Danger Outline Button */
.btn-danger-outline {
    @apply h-10 px-3 rounded-lg;
    @apply bg-white text-red-600 border border-red-300;
    @apply text-sm font-medium;
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-red-50 hover:border-red-400;
    @apply active:bg-red-100;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

/* ========================================
   Card Components
   ======================================== */

.card {
    @apply bg-white rounded-xl border border-black;
    @apply shadow-[0_1px_2px_rgba(0,0,0,0.05)];
}

.card-header {
    @apply px-6 py-4 border-b border-[#E0E0E0];
}

.card-body {
    @apply p-6;
}

.card-footer {
    @apply px-6 py-4 border-t border-[#E0E0E0];
}

/* ========================================
   Form Components
   ======================================== */

.input {
    @apply h-10 px-3 rounded-lg;
    @apply border border-[#E0E0E0] bg-white;
    @apply text-sm text-[#1F1F1F];
    @apply transition-all duration-150 ease-in-out;
    @apply hover:border-[#C9C9C9];
    @apply focus:outline-none focus:border-[#2563EB] focus:ring-1 focus:ring-[#2563EB];
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.input-error {
    @apply border-red-500 focus:border-red-500 focus:ring-red-500;
}

.label {
    @apply block text-sm font-medium text-[#1F1F1F] mb-1;
}

.helper-text {
    @apply text-xs text-[#6D6D6D] mt-1;
}

.error-text {
    @apply text-xs text-red-500 mt-1;
}

/* ========================================
   Table Components
   ======================================== */

.table {
    @apply w-full border-collapse;
}

.table-header {
    @apply bg-[#F5F5F5] text-[#6D6D6D] text-sm font-medium;
}

.table-header-cell {
    @apply px-3 py-3 text-left border-b border-[#E0E0E0];
}

.table-row {
    @apply border-b border-[#E0E0E0];
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-[#F5F5F5];
    @apply active:bg-[#EFEFEF];
}

.table-cell {
    @apply px-3 py-3 text-sm text-[#1F1F1F];
}

/* ========================================
   Utility Classes
   ======================================== */

.text-primary {
    @apply text-[#1F1F1F];
}

.text-secondary {
    @apply text-[#6D6D6D];
}

.text-muted {
    @apply text-[#6D6D6D] text-xs;
}

.shadow-level-1 {
    @apply shadow-[0_1px_2px_rgba(0,0,0,0.05)];
}

.shadow-level-2 {
    @apply shadow-[0_2px_10px_rgba(0,0,0,0.08)];
}

.shadow-level-3 {
    @apply shadow-[0_4px_20px_rgba(0,0,0,0.12)];
}

/* ========================================
   Dropdown Components
   ======================================== */

.account-dropdown {
    @apply relative;
}

.dropdown-menu {
    @apply absolute right-0 top-[calc(100%+8px)];
    @apply w-64 bg-white rounded-lg border border-[#E0E0E0];
    @apply shadow-[0_2px_10px_rgba(0,0,0,0.08)];
    @apply py-2;
    @apply z-50;
}

.dropdown-user-info {
    @apply px-4 py-3;
}

.dropdown-user-name {
    @apply text-sm font-semibold text-[#1F1F1F];
    @apply truncate;
}

.dropdown-user-email {
    @apply text-xs text-[#6D6D6D];
    @apply truncate;
    @apply mt-1;
}

.dropdown-divider {
    @apply h-px bg-[#E0E0E0];
    @apply my-2;
}

.dropdown-item {
    @apply w-full flex items-center gap-3;
    @apply px-4 py-2;
    @apply text-sm text-[#1F1F1F];
    @apply transition-all duration-150 ease-in-out;
    @apply hover:bg-[#F5F5F5];
    @apply active:bg-[#EFEFEF];
    @apply cursor-pointer;
}

.dropdown-item i {
    @apply text-[#6D6D6D] w-5 text-center;
}

/* ========================================
   Calendar Layout Components
   ======================================== */

.appointment-calendar-container {
    @apply flex w-full h-full;
    @apply bg-[#FAFAFA];
}

.appointment-calendar {
    @apply flex-1 p-6;
    @apply overflow-auto;
}

/* ========================================
   FullCalendar Event Positioning Override
   Frame: 20% left (background), Slot: 80% right (foreground)
   SCOPED TO TIME GRID VIEWS ONLY (Week/Day)
   ======================================== */

/* Frame events in Time Grid: Fixed to left side, 20% width, lower z-index */
.fc-timeGridWeek-view .event-frame,
.fc-timeGridDay-view .event-frame {
    left: 0 !important;
    inset-inline-start: 0 !important;
    width: 20% !important;
    z-index: 1 !important;
    /* Add horizontal spacing (gutter) on the right side only */
    border-top: 0 !important;
    border-bottom: 0 !important;
    border-left: 3px solid transparent !important;
    border-right: 3px solid transparent !important;
    background-clip: padding-box !important;
}

/* Hide time display in frame events (Time Grid only) */
.fc-timeGridWeek-view .event-frame .fc-event-time,
.fc-timeGridDay-view .event-frame .fc-event-time {
    display: none !important;
}

/* Frame event main container: vertical text centered (Time Grid only) */
.fc-timeGridWeek-view .event-frame .fc-event-main,
.fc-timeGridDay-view .event-frame .fc-event-main {
    writing-mode: vertical-rl !important;
    text-orientation: mixed !important;
    transform: rotate(180deg) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
    padding: 0 !important;
    white-space: nowrap !important;
}

/* Center the title text inside the main container (Time Grid only) */
.fc-timeGridWeek-view .event-frame .fc-event-title,
.fc-timeGridDay-view .event-frame .fc-event-title {
    text-align: center !important;
}

/* Slot events in Time Grid: Pushed to right side, 80% width, higher z-index */
.fc-timeGridWeek-view .event-slot,
.fc-timeGridDay-view .event-slot {
    left: 20% !important;
    inset-inline-start: 20% !important;
    width: 80% !important;
    z-index: 2 !important;
    /* Add horizontal spacing (gutter) on the left side only */
    border-top: 0 !important;
    border-bottom: 0 !important;
    border-right: 3px solid transparent !important;
    border-left: 3px solid transparent !important;
    background-clip: padding-box !important;
}

/* Ensure event harness doesn't restrict positioning (Time Grid only) */
.fc-timeGridWeek-view .fc-timegrid-event-harness,
.fc-timeGridDay-view .fc-timegrid-event-harness {
    inset-inline-start: 0 !important;
    inset-inline-end: 0 !important;
    left: 0 !important;
    right: 0 !important;
    pointer-events: none !important;
}

.fc-timeGridWeek-view .fc-timegrid-event-harness-inset,
.fc-timeGridDay-view .fc-timegrid-event-harness-inset {
    inset-inline-start: 0 !important;
    inset-inline-end: 0 !important;
}

/* Re-enable pointer events on actual event elements (Time Grid only) */
.fc-timeGridWeek-view .fc-timegrid-event-harness .fc-event,
.fc-timeGridDay-view .fc-timegrid-event-harness .fc-event {
    pointer-events: auto !important;
}

/* Remove default margins that affect positioning (Time Grid only) */
.fc-timeGridWeek-view .fc-timegrid-col-events,
.fc-timeGridDay-view .fc-timegrid-col-events {
    margin: 0 !important;
}

/* ========================================
   Modal Backdrop
   ======================================== */

.modal-backdrop {
    @apply fixed inset-0;
    @apply bg-black/20;
    @apply opacity-0 pointer-events-none;
    @apply transition-opacity duration-200 ease-in-out;
    @apply z-40;
}

.modal-backdrop.modal-backdrop-open {
    @apply opacity-100 pointer-events-auto;
}

/* ========================================
   Floating Panel Components
   ======================================== */

.floating-panel {
    @apply fixed;
    @apply w-[480px] max-h-[600px] bg-white;
    @apply rounded-xl border border-[#E0E0E0];
    @apply shadow-[0_4px_20px_rgba(0,0,0,0.12)];
    @apply opacity-0 scale-95 pointer-events-none;
    @apply transition-all duration-200 ease-in-out;
    @apply z-50;
    @apply flex flex-col;
}

.floating-panel.floating-panel-open {
    @apply opacity-100 scale-100 pointer-events-auto;
}

.floating-panel-header {
    @apply flex items-center justify-between;
    @apply px-6 py-4 border-b border-[#E0E0E0];
    @apply flex-shrink-0;
}

.floating-panel-title {
    @apply text-lg font-semibold text-[#1F1F1F];
}

.floating-panel-close {
    @apply w-8 h-8 flex items-center justify-center;
    @apply text-[#6D6D6D] hover:text-[#1F1F1F];
    @apply transition-colors duration-150 ease-in-out;
    @apply cursor-pointer;
}

.floating-panel-body {
    @apply px-6 py-4;
    @apply flex-1 overflow-y-auto;
}

.floating-panel-actions {
    @apply flex items-center justify-end gap-3;
    @apply pt-4 mt-4 border-t border-[#E0E0E0];
}

/* Form Components for Floating Panel */
.form-section {
    @apply mb-6;
}

.form-section-title {
    @apply text-sm font-semibold text-[#1F1F1F] mb-3;
}

.time-slot-display {
    @apply flex flex-col gap-2;
    @apply p-4 bg-[#F5F5F5] rounded-lg;
    @apply border border-[#E0E0E0];
}

.time-slot-item {
    @apply flex items-center gap-2;
    @apply text-sm text-[#1F1F1F];
}

.time-slot-item i {
    @apply text-[#6D6D6D] w-5;
}

.form-group {
    @apply mb-4;
}

.form-row {
    @apply grid grid-cols-2 gap-4;
    @apply mb-4;
}

.form-label {
    @apply block text-sm font-medium text-[#1F1F1F] mb-2;
}

.form-input {
    @apply w-full h-10 px-3 rounded-lg;
    @apply border border-[#E0E0E0] bg-white;
    @apply text-sm text-[#1F1F1F];
    @apply transition-all duration-150 ease-in-out;
    @apply hover:border-[#C9C9C9];
    @apply focus:outline-none focus:border-[#2563EB] focus:ring-1 focus:ring-[#2563EB];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-[#F5F5F5];
}

.form-checkbox {
    @apply flex items-center gap-2;
    @apply cursor-pointer;
}

.form-checkbox input[type="checkbox"] {
    @apply w-4 h-4 rounded;
    @apply border border-[#E0E0E0];
    @apply text-[#2563EB];
    @apply focus:ring-2 focus:ring-[#2563EB] focus:ring-offset-0;
    @apply transition-colors duration-150;
}

.form-checkbox span {
    @apply text-sm text-[#1F1F1F];
}

.text-required {
    @apply text-red-500;
}

.alert-error {
    @apply p-3 mb-4;
    @apply bg-red-50 border border-red-200 rounded-lg;
    @apply text-sm text-red-700;
}

.alert-warning {
    @apply p-3;
    @apply bg-amber-50 border border-amber-200 rounded-lg;
    @apply text-sm text-amber-800;
}

/* ========================================
   Dimmed Slot Styling (for inactive frames)
   ======================================== */

.slot-dimmed {
    opacity: 0.5 !important;
    pointer-events: none !important;
    cursor: not-allowed !important;
}

/* Ensure dimmed slots don't respond to hover */
.slot-dimmed:hover {
    opacity: 0.5 !important;
}

/* ========================================
   Frame Mirror Styling During Drag
   Force vertical text styling to persist on the drag mirror
   ======================================== */

.fc-event-mirror.event-frame {
    writing-mode: vertical-rl !important;
    transform: rotate(180deg) !important;
    z-index: 9999 !important;
    width: 20% !important;
}

.fc-event-mirror.event-frame .fc-event-main {
    writing-mode: vertical-rl !important;
    text-orientation: mixed !important;
    transform: rotate(180deg) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
    padding: 0 !important;
    white-space: nowrap !important;
}

.fc-event-mirror.event-frame .fc-event-title {
    text-align: center !important;
}

.fc-event-mirror.event-frame .fc-event-time {
    display: none !important;
}
